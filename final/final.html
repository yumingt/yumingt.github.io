<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
    rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="../favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../favicon_io/site.webmanifest">
  </head>
  <body>
    <nav>
      <h1>YUMING TSANG</h1>
      <input class="menu-btn" type="checkbox" id="menu-btn" />
      <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
      <ul class="menu">
        <li><a href="../index.html" alt="Portfolio">Portfolio</a></li>
        <li><a href="../about.html" alt="About">About</a></li>
        <li><a href="../cheatsheet.html" alt="Cheatsheet">Cheatsheet</a></li>
        <li><a href="../writeup.html" alt="MP0 Writeup">MP0 Writeup</a></li>
      </ul>
    </nav>

    <header>
      <h2>FP2: Final Project Writeup</h2>
    </header>

    <h3>Click <a href="https://yumingt.github.io/quatrun2/" alt="Link to final game">here</a> to view my game!</h3>

    <h3>Overview and Usage</h3>
    <p>The core functionality of my project is to create a 2D endless runner using p5.play with a login flow that uses Firebase authentication and also building a handheld controller that can be used to play the game using p5.serialserver. By using Firebase authentication, the users scores are saved to a database and the game displays a leaderboard of the top 5 scores to the left of the gameview. When playing the game with the controller, the left button is used to jump and the right button ends the game. If you hit an obstacle then the game is over. Here is a link to the GitHub repository where the code for my game is hosted: <a href="https://github.com/yumingt/quatrun2" alt="Link to Github repository for final game">https://github.com/yumingt/quatrun2</a></p>
    <p>Here is a gif of the Firebase login flow and gameplay:</p>
    <img src="Recording 2023-03-17 at 16.43.17.gif" alt="GIF of Firebase Google login flow and gameplay" width="800"/>
    <p>Here is a gif of the game being played with the controller:</p>
    <img src="../HCDE 439/hcde439-master/media/trim-FADF89BC-5A08-4F84-88BF-F266EE8E51F3-MOV-AdobeExpress.gif" alt="GIF of 2D endless runner being played with a handheld controller"width="800"/>
    <h3>Development Process</h3>
    <p>Here are the steps that outline my process for this project since the prototype version:</p>
    <ol>
      <li>Create, set up, and test the controller in a new repository. Click <a href="https://yumingt.github.io/HCDE%20439/hcde439-master/final.html" alt="Link to controller technical documentation">here</a> to view my technical documentation for creating the controller.</li>
      <li>Fix issues with deploying Firebase project. Here is a screenshot of my login page in an unfinished state before I figured out how to configure my styles correctly through Firebase hosting, which I eventually moved to GitHub pages hosting:</li>
      <img src="Screenshot (199).png" alt="Unfinished login screen where styles are incorrectly loaded due to Firebase hosting error"width="800"/>
      <li>Merge prototype version (Firebase login) with new repository (with p5.serialserver implementation)</li>
      <li>Center "Game over" sprite</li>
      <li>Implement play button</li>
      <li>Implement replay button</li>
      <li>Add instructions to game view</li>
      <li>Add high score tracking feature and leaderboard</li>
      <li>Push changes to Github and deploy project on GitHub Pages</li>
      <li>Do the writeup</li>
    </ol>
    <h3>Issue Deep-Dive</h3>
    <p>An issue that I encountered was that my p5 functions in sketch.js stopped running after I added in Firebased configuration code.</p>
    <p>I resolved this problem by seperating the Firebase code and p5.js code into seperate code files and displaying my game in an iframe. I also used the iframe to communicate with the parent site in order to build the leaderboard.</p>
    <p>This fix taught me more about how to work with iframes since it was a concept that was previously unfamiliar to me. This is the code structure that I used to render the iframe in my index.js file:</p>
    <pre>
      <code>
        const gameView = () => {
          renderLeaderboard()
          return html`
            &lt;iframe id="game-iframe" src="sketch.html"&gt;&lt;/iframe&gt;
          `;
        }
      </code>
    </pre>
    <h3>Ideas and Future:</h3>
    <li>Add BGM and sound effects</li>
    <li>Add coin collection feature</li>
    <li>Add platforms that the player can jump onto</li>
    <li>Make the game speed up as score increases</li>
    <li>Purchase and connect a custom domain</li>
    <h3>Kudos</h3>
    <p>Thank you to my friend Aly Stuart for letting me use her artwork in this game and Andy Shaw, Timothy Chen, and Professor Hannah Twigg-Smith for helping me debug my code.</p>
  </body>
</html>